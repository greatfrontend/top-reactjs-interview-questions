---
title: React 应用程序中的代码拆分是什么？
---

## 总结

React 应用程序中的代码拆分是一种通过将代码拆分成更小的块（可以按需加载）来提高性能的技术。这有助于减少应用程序的初始加载时间。您可以使用动态 `import()` 语句或 React 的 `React.lazy` 和 `Suspense` 来实现代码拆分。

```javascript
// 使用 React.lazy 和 Suspense
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
```

***

## React 应用程序中的代码拆分是什么？

### 简介

代码拆分是一种性能优化技术，它涉及将应用程序的代码分解成更小、更易于管理的块。这允许应用程序最初只加载必要的代码，并将其他部分的加载推迟到需要时。这可以显着减少初始加载时间并改善整体用户体验。

### 如何实现代码拆分

#### 使用动态 `import()`

动态 `import()` 是一个 JavaScript 特性，允许您异步加载模块。这可以用于将代码拆分成单独的块。

```javascript
// 动态导入示例
import('./module').then((module) => {
  // 使用该模块
});
```

#### 使用 React.lazy 和 Suspense

React 通过 `React.lazy` 和 `Suspense` 提供对代码拆分的内置支持。`React.lazy` 允许您将动态导入呈现为常规组件，而 `Suspense` 允许您在加载组件时指定加载回退。

```javascript
// 延迟加载组件
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
```

### 代码拆分的好处

* **提高性能**：通过最初只加载必要的代码，您可以减少应用程序的初始加载时间。
* **更好的用户体验**：更快的加载时间带来更流畅、响应更快的用户体验。
* **有效的资源使用**：代码拆分确保仅在需要时加载代码，从而更有效地使用资源。

### 工具和库

* **Webpack**：Webpack 是一个流行的模块打包器，它开箱即用地支持代码拆分。您可以将其配置为自动将代码拆分成块。
* **React Loadable**：虽然 `React.lazy` 和 `Suspense` 是在 React 中实现代码拆分的推荐方法，但 `React Loadable` 是一个较旧的库，也提供了类似的功能。

## 延伸阅读

* [React.lazy 文档](https://react.dev/reference/react/lazy)
* [Webpack 关于代码分割的文档](https://webpack.js.org/guides/code-splitting/)
* [MDN Web Docs 关于动态导入的文档](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#dynamic_imports)
