---
title: How does virtual DOM in React work? What are its benefits and downsides?
---

## TL;DR

The virtual DOM in React is a lightweight copy of the actual DOM. When the state of a component changes, React creates a new virtual DOM tree and compares it with the previous one using a process called "reconciliation." Only the differences are then updated in the actual DOM, making updates more efficient. The benefits include improved performance and a more declarative way to manage UI. However, it can add complexity and may not be as performant for very simple applications.

---

## How does virtual DOM in React work?

### What is the virtual DOM?

The virtual DOM is a concept where a virtual representation of the UI is kept in memory and synced with the real DOM by a library such as React. This process is called "reconciliation."

### How does it work?

1. **Initial render**: When a React component is first rendered, a virtual DOM tree is created. This tree is a lightweight copy of the actual DOM.
2. **State change**: When the state of a component changes, React creates a new virtual DOM tree.
3. **Diffing**: React compares the new virtual DOM tree with the previous one to find the differences. This process is known as "diffing."
4. **Reconciliation**: React updates only the parts of the actual DOM that have changed, based on the differences found during the diffing process.

### Code example

```jsx
import { useState } from 'react';

function MyComponent() {
  const [count, setCount] = useState(0);

  const increment = () => setCount(count + 1);

  return (
    <div>
      <p>{count}</p>
      <button onClick={increment}>Increment</button>
    </div>
  );
}
```

In this example, when the button is clicked, the state changes, triggering a new virtual DOM tree to be created. React then compares this new tree with the previous one and updates only the `<p>` element in the actual DOM.

## Benefits of virtual DOM

### Improved performance

- **Efficient updates**: By updating only the parts of the DOM that have changed, React minimizes the number of costly DOM operations.
- **Batch updates**: React can batch multiple updates together, reducing the number of re-renders.

### Declarative UI

- **Simplified development**: Developers can describe what the UI should look like for a given state, and React takes care of updating the DOM to match that state.

### Cross-platform

- **React Native**: The virtual DOM concept allows React to be used for mobile app development with React Native, providing a consistent development experience across platforms.

## Downsides of virtual DOM

### Complexity

- **Learning curve**: Understanding how the virtual DOM works and how to optimize components can be challenging for beginners.
- **Overhead**: For very simple applications, the overhead of maintaining a virtual DOM may not be justified.

### Performance limitations

- **Not a silver bullet**: While the virtual DOM improves performance for many use cases, it may not be as performant as manual DOM manipulation for very specific, highly optimized scenarios.

## Further reading

- [React Docs on Reconciliation](https://react.dev/learn/render-and-commit)
- [What is the Virtual DOM in React?](https://www.freecodecamp.org/news/what-is-the-virtual-dom-in-react/)
